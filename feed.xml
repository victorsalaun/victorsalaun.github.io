<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title></title>
    <description></description>
    <link>https://victorsalaun.github.io/</link>
    <atom:link href="https://victorsalaun.github.io/feed.xml" rel="self" type="application/rss+xml"/>
    <pubDate>Wed, 18 Apr 2018 22:23:16 +0200</pubDate>
    <lastBuildDate>Wed, 18 Apr 2018 22:23:16 +0200</lastBuildDate>
    <generator>Jekyll v3.2.1</generator>
    
      <item>
        <title>Chaos Monkey for Spring Boot</title>
        <description>&lt;p align=&quot;center&quot;&gt;
    &lt;img src=&quot;https://victorsalaun.github.io/assets/img/chaos-monkey.png&quot; title=&quot;chaos-monkey.png&quot; style=&quot;height: 300px;&quot; /&gt;
&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/codecentric/chaos-monkey-spring-boot&quot;&gt;Chaos Monkey for Spring Boot&lt;/a&gt; développé par l’équipe &lt;a href=&quot;https://www.codecentric.de/&quot;&gt;codecentric&lt;/a&gt; est une dépendance Spring Boot 2 permettant de faire du &lt;a href=&quot;https://principlesofchaos.org/&quot;&gt;Chaos Engineering&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;La mise en place est simple, il suffit d’ajouter la dépendance maven au pom.xml et régler quelques conf YAML.
Le reste du code source n’est pas modifié.&lt;/p&gt;

&lt;p&gt;Ce projet propose trois types d’attaque :&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Ajout de latences aux appels de méthodes&lt;/li&gt;
  &lt;li&gt;Ajout d’exceptions aux appels de méthodes&lt;/li&gt;
  &lt;li&gt;Tuer l’application&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Ce projet se base sur les annotations Spring :&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;@Controller&lt;/li&gt;
  &lt;li&gt;@RestController&lt;/li&gt;
  &lt;li&gt;@Service&lt;/li&gt;
  &lt;li&gt;@Repository&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Voici un exemple de configuration :&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;chaos:
  monkey:
    assaults:
      latencyActive: true
      level: 1
      exceptionsActive: true
      killApplicationActive: true
    watcher:
      repository: true
      restController: true
      service: true
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Dans la pratique il n’est pas conseillé d’utiliser ce type d’outils en production.
Mais supposons une infra en micro-services, pourquoi ne pas lancer une instance de l’application en mode chaos.
Cela permettrait de valider constamment le comportement des services entre eux.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/victorsalaun/chaos-monkey-spring-boot-demo&quot;&gt;Demo&lt;/a&gt;&lt;/p&gt;
</description>
        <pubDate>Wed, 18 Apr 2018 12:50:00 +0200</pubDate>
        <link>https://victorsalaun.github.io/dev/chaos-monkey-spring-boot.html</link>
        <guid isPermaLink="true">https://victorsalaun.github.io/dev/chaos-monkey-spring-boot.html</guid>
        
        <category>dev, ChaosEngineering</category>
        
        
        <category>dev</category>
        
      </item>
    
      <item>
        <title>JetBrains Plugins</title>
        <description>&lt;p align=&quot;center&quot;&gt;
    &lt;img src=&quot;https://victorsalaun.github.io/assets/img/jetbrains.png&quot; title=&quot;jetbrains.png&quot; /&gt;
&lt;/p&gt;

&lt;h1 id=&quot;any&quot;&gt;Any&lt;/h1&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://plugins.jetbrains.com/plugin/7495--ignore&quot;&gt;.ignore&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://plugins.jetbrains.com/plugin/7391-asciidoc&quot;&gt;AsciiDoc&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://plugins.jetbrains.com/plugin/4230-bashsupport&quot;&gt;BashSupport&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://plugins.jetbrains.com/plugin/7724-docker-integration&quot;&gt;Docker integration&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://plugins.jetbrains.com/plugin/7793-markdown-support&quot;&gt;Markdown support&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://plugins.jetbrains.com/plugin/10080-rainbow-brackets&quot;&gt;Rainbow Brackets&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;intellij&quot;&gt;IntelliJ&lt;/h1&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://plugins.jetbrains.com/plugin/7371-aws-cloudformation&quot;&gt;AWS CloudFormation&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://plugins.jetbrains.com/plugin/7808-hashicorp-terraform--hcl-language-support&quot;&gt;HashiCorp Terraform / HCL language support&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://plugins.jetbrains.com/plugin/6954-kotlin&quot;&gt;Kotlin&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://plugins.jetbrains.com/plugin/6317-lombok-plugin&quot;&gt;Lombok Plugin&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;webstorm&quot;&gt;WebStorm&lt;/h1&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://plugins.jetbrains.com/plugin/6971-angularjs&quot;&gt;AngularJS&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://plugins.jetbrains.com/plugin/8395-angular-2-typescript-live-templates&quot;&gt;Angular 2 TypeScript Live Templates&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://plugins.jetbrains.com/plugin/9564-react-native-console&quot;&gt;React Native Console&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://plugins.jetbrains.com/plugin/9442-vue-js&quot;&gt;Vue.js&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;inutiles-donc-indispensables&quot;&gt;Inutiles donc indispensables&lt;/h1&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://plugins.jetbrains.com/plugin/8575-nyan-progress-bar&quot;&gt;Nyan Progress Bar&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://plugins.jetbrains.com/plugin/8251-power-mode-ii&quot;&gt;Power Mode II&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
        <pubDate>Mon, 09 Apr 2018 21:41:00 +0200</pubDate>
        <link>https://victorsalaun.github.io/dev/jetbrains-plugins.html</link>
        <guid isPermaLink="true">https://victorsalaun.github.io/dev/jetbrains-plugins.html</guid>
        
        <category>dev</category>
        
        
        <category>dev</category>
        
      </item>
    
      <item>
        <title>Terraform</title>
        <description>&lt;p align=&quot;center&quot;&gt;
    &lt;img src=&quot;https://victorsalaun.github.io/assets/img/terraform.png&quot; title=&quot;terraform.png&quot; style=&quot;height: 300px;&quot; /&gt;
&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.terraform.io/&quot;&gt;Terraform&lt;/a&gt; est un outil d’infrastructure as code, multi-providers, open source, édité par &lt;a href=&quot;https://www.hashicorp.com/&quot;&gt;Hashicorp&lt;/a&gt;.
Il permet de créer et modifier ses infrastructures et environements sous la forme de fichiers de configuration de manière prévisible.
Le principal concept se base sur l’état de la cible, il s’agit donc d’une approche d’infrastructure immutable.&lt;/p&gt;

&lt;p&gt;Avantages :&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Est devenu un standard&lt;/li&gt;
  &lt;li&gt;Large communauté&lt;/li&gt;
  &lt;li&gt;Support multi-provides assuré dont AWS, Azure, GCE&lt;/li&gt;
  &lt;li&gt;Reproductibilité via des modules&lt;/li&gt;
  &lt;li&gt;Extensibilité par plugin&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Inconvénients :&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Pas d’interface centralisée&lt;/li&gt;
  &lt;li&gt;Nécessité de développer&lt;/li&gt;
  &lt;li&gt;En fonction du provider, pas tous les services ne sont couverts&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;La création de modules permet de centraliser les usages et d’assurer une bonne réutilisabilité des modèles d’infrastructures par les équipes&lt;/p&gt;
</description>
        <pubDate>Mon, 12 Feb 2018 20:58:00 +0100</pubDate>
        <link>https://victorsalaun.github.io/devops/terraform-infrastructure-as-code.html</link>
        <guid isPermaLink="true">https://victorsalaun.github.io/devops/terraform-infrastructure-as-code.html</guid>
        
        <category>devops, terraform</category>
        
        
        <category>devops</category>
        
      </item>
    
      <item>
        <title>Carbon - Créer des images du code source</title>
        <description>&lt;p&gt;&lt;a href=&quot;https://github.com/dawnlabs/carbon&quot; title=&quot;Carbon&quot;&gt;Carbon&lt;/a&gt; est un outil open source développé par l’équipe &lt;a href=&quot;https://dawnlabs.io/&quot; title=&quot;Dawn Labs&quot;&gt;Dawn Labs&lt;/a&gt; permettant de créer des images sympas affichant du code.&lt;/p&gt;

&lt;p&gt;Prenons l’exemple de développeurs voulant diffuser du code sur Twitter, il peut copier coller tout simplement du code mais sera mal affiché ou faire une capture d’écran souvent mal adaptée à la taille de l’écran. C’est là que Carbon intervient.&lt;/p&gt;

&lt;p&gt;En se rendant sur le site &lt;a href=&quot;https://carbon.now.sh&quot; title=&quot;https://carbon.now.sh&quot;&gt;https://carbon.now.sh&lt;/a&gt; il faut copier coller son code, choisir un thème ainsi que le language du code, nous obtenons l’image suivante :&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
    &lt;img src=&quot;https://victorsalaun.github.io/assets/img/carbon.png&quot; title=&quot;carbon.png&quot; /&gt;
&lt;/p&gt;

&lt;p&gt;Maintenant nous pouvons partager cette image sur Twitter, documenter nos markdown etc.&lt;/p&gt;
</description>
        <pubDate>Mon, 12 Feb 2018 20:58:00 +0100</pubDate>
        <link>https://victorsalaun.github.io/documentation/carbon-create-beautiful-images-of-your-source-code.html</link>
        <guid isPermaLink="true">https://victorsalaun.github.io/documentation/carbon-create-beautiful-images-of-your-source-code.html</guid>
        
        <category>documentation</category>
        
        
        <category>documentation</category>
        
      </item>
    
      <item>
        <title>Déployer un site web statique en https sur AWS</title>
        <description>&lt;p align=&quot;center&quot;&gt;
    &lt;img src=&quot;https://victorsalaun.github.io/assets/img/aws.jpg&quot; title=&quot;aws.jpg&quot; /&gt;
&lt;/p&gt;

&lt;h1 id=&quot;création-du-domaine-et-de-son-certificat&quot;&gt;Création du domaine et de son certificat&lt;/h1&gt;

&lt;p&gt;La première étape consiste à créer un domain et son certificat.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;aws cloudformation deploy –stack-name domain-stack –template-file domain.cfn.yml –parameter-overrides DomainName=example.com –capabilities CAPABILITY_IAM –region us-east-1&lt;/p&gt;
&lt;/blockquote&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-yaml&quot; data-lang=&quot;yaml&quot;&gt;&lt;span class=&quot;s&quot;&gt;AWSTemplateFormatVersion&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;2010-09-09&quot;&lt;/span&gt;

&lt;span class=&quot;s&quot;&gt;Description&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;Route53 Hosted Zone + Certificate&lt;/span&gt;

&lt;span class=&quot;s&quot;&gt;Parameters&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;

  &lt;span class=&quot;s&quot;&gt;DomainName&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;s&quot;&gt;Type&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;String&lt;/span&gt;
    &lt;span class=&quot;s&quot;&gt;Description&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;The DNS name of an Amazon Route 53 hosted zone&lt;/span&gt;
    &lt;span class=&quot;s&quot;&gt;AllowedPattern&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;(?!-)[a-zA-Z0-9-.]{1,63}(?&amp;lt;!-)&lt;/span&gt;
    &lt;span class=&quot;s&quot;&gt;ConstraintDescription&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;must be a valid DNS zone name.&lt;/span&gt;

&lt;span class=&quot;s&quot;&gt;Resources&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;

  &lt;span class=&quot;s&quot;&gt;DNS&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;s&quot;&gt;Type&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;AWS::Route53::HostedZone&lt;/span&gt;
    &lt;span class=&quot;s&quot;&gt;Properties&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;s&quot;&gt;HostedZoneConfig&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;s&quot;&gt;Comment&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;!Join&lt;/span&gt; &lt;span class=&quot;pi&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;pi&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;Hosted&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;zone&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;!Ref&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;DomainName&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;]]&lt;/span&gt;
      &lt;span class=&quot;s&quot;&gt;Name&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;!Ref&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;DomainName&lt;/span&gt;

  &lt;span class=&quot;s&quot;&gt;DomainCertificate&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;s&quot;&gt;Type&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;AWS::CertificateManager::Certificate&lt;/span&gt;
    &lt;span class=&quot;s&quot;&gt;Properties&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;s&quot;&gt;DomainName&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;!Ref&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;DomainName&lt;/span&gt;
      &lt;span class=&quot;s&quot;&gt;DomainValidationOptions&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;DomainName&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;!Ref&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;DomainName&lt;/span&gt;
        &lt;span class=&quot;s&quot;&gt;ValidationDomain&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;!Ref&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;DomainName&lt;/span&gt;
      &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;DomainName&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;!Join&lt;/span&gt; &lt;span class=&quot;pi&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;pi&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;*.'&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;!Ref&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;DomainName&lt;/span&gt; &lt;span class=&quot;pi&quot;&gt;]]&lt;/span&gt;
        &lt;span class=&quot;s&quot;&gt;ValidationDomain&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;!Ref&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;DomainName&lt;/span&gt;
      &lt;span class=&quot;s&quot;&gt;SubjectAlternativeNames&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;!Join&lt;/span&gt; &lt;span class=&quot;pi&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;pi&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;*.'&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;!Ref&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;DomainName&lt;/span&gt; &lt;span class=&quot;pi&quot;&gt;]]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Lors du traitement de cette stack, il faut penser à vérifier ses mails afin de valider la création du certificat.&lt;/p&gt;

&lt;p&gt;Une fois la stack créée, il est nécessaire de manuellement modifier les noms des serveurs DNS du domaine, je ne connais pas de solution industrialisée.&lt;/p&gt;

&lt;h1 id=&quot;création-du-sous-domain&quot;&gt;Création du sous domain&lt;/h1&gt;

&lt;p&gt;Maintenant qu’on a un domain valide, il est possible de créer autant de sous domaines qu’on veut aussi bien le www que rien.&lt;/p&gt;

&lt;p&gt;Pour récupérer l’arn du certificat que l’on vient de créer :&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;aws acm list-certificates –region us-east-1&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;La stack suivante permet de fournir un S3 qui est un dépôt de fichiers statiques, un CDN (CloudFront) et de lier le tout au domaine.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;aws cloudformation deploy –stack-name subdomain-stack –template-file subdomain.cfn.yml –parameter-overrides AcmCertificateArn=arn:aws:cloudfront::99999999999:distribution/XXXXXXXXXXXX HostedZone=example.com Subdomain=www.example.com  –capabilities CAPABILITY_IAM –region eu-west-3&lt;/p&gt;
&lt;/blockquote&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-yaml&quot; data-lang=&quot;yaml&quot;&gt;&lt;span class=&quot;s&quot;&gt;AWSTemplateFormatVersion&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;2010-09-09'&lt;/span&gt;

&lt;span class=&quot;s&quot;&gt;Description&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;Route53 Subdomain&lt;/span&gt;

&lt;span class=&quot;s&quot;&gt;Parameters&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;

  &lt;span class=&quot;s&quot;&gt;AcmCertificateArn&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;s&quot;&gt;Type&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;String&lt;/span&gt;
    &lt;span class=&quot;s&quot;&gt;Description&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;Domain certificate arn.&lt;/span&gt;
    &lt;span class=&quot;s&quot;&gt;AllowedPattern&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;arn:aws:acm:.*&quot;&lt;/span&gt;

  &lt;span class=&quot;s&quot;&gt;HostedZone&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;s&quot;&gt;Type&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;String&lt;/span&gt;
    &lt;span class=&quot;s&quot;&gt;Description&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;The DNS name of an existing Amazon Route 53 hosted zone.&lt;/span&gt;
    &lt;span class=&quot;s&quot;&gt;AllowedPattern&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;(?!-)[a-zA-Z0-9-.]{1,63}(?&amp;lt;!-)&lt;/span&gt;
    &lt;span class=&quot;s&quot;&gt;ConstraintDescription&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;must be a valid DNS zone name.&lt;/span&gt;

  &lt;span class=&quot;s&quot;&gt;Subdomain&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;s&quot;&gt;Type&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;String&lt;/span&gt;
    &lt;span class=&quot;s&quot;&gt;Description&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;The DNS name of an existing Amazon Route 53 hosted zone.&lt;/span&gt;
    &lt;span class=&quot;s&quot;&gt;AllowedPattern&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;(?!-)[a-zA-Z0-9-.]{1,63}(?&amp;lt;!-)&lt;/span&gt;
    &lt;span class=&quot;s&quot;&gt;ConstraintDescription&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;must be a valid subdomain name.&lt;/span&gt;

&lt;span class=&quot;s&quot;&gt;Mappings&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;

  &lt;span class=&quot;s&quot;&gt;Region2S3WebsiteSuffix&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;s&quot;&gt;us-east-1&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;s&quot;&gt;Suffix&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;.s3-website-us-east-1.amazonaws.com&lt;/span&gt;
    &lt;span class=&quot;s&quot;&gt;us-west-1&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;s&quot;&gt;Suffix&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;.s3-website-us-west-1.amazonaws.com&lt;/span&gt;
    &lt;span class=&quot;s&quot;&gt;us-west-2&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;s&quot;&gt;Suffix&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;.s3-website-us-west-2.amazonaws.com&lt;/span&gt;
    &lt;span class=&quot;s&quot;&gt;eu-west-1&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;s&quot;&gt;Suffix&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;.s3-website-eu-west-1.amazonaws.com&lt;/span&gt;
    &lt;span class=&quot;s&quot;&gt;ap-northeast-1&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;s&quot;&gt;Suffix&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;.s3-website-ap-northeast-1.amazonaws.com&lt;/span&gt;
    &lt;span class=&quot;s&quot;&gt;ap-northeast-2&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;s&quot;&gt;Suffix&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;.s3-website-ap-northeast-2.amazonaws.com&lt;/span&gt;
    &lt;span class=&quot;s&quot;&gt;ap-southeast-1&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;s&quot;&gt;Suffix&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;.s3-website-ap-southeast-1.amazonaws.com&lt;/span&gt;
    &lt;span class=&quot;s&quot;&gt;ap-southeast-2&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;s&quot;&gt;Suffix&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;.s3-website-ap-southeast-2.amazonaws.com&lt;/span&gt;
    &lt;span class=&quot;s&quot;&gt;ap-south-1&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;s&quot;&gt;Suffix&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;.s3-website-ap-south-1.amazonaws.com&lt;/span&gt;
    &lt;span class=&quot;s&quot;&gt;us-east-2&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;s&quot;&gt;Suffix&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;.s3-website-us-east-2.amazonaws.com&lt;/span&gt;
    &lt;span class=&quot;s&quot;&gt;sa-east-1&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;s&quot;&gt;Suffix&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;.s3-website-sa-east-1.amazonaws.com&lt;/span&gt;
    &lt;span class=&quot;s&quot;&gt;cn-north-1&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;s&quot;&gt;Suffix&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;.s3-website.cn-north-1.amazonaws.com.cn&lt;/span&gt;
    &lt;span class=&quot;s&quot;&gt;eu-central-1&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;s&quot;&gt;Suffix&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;.s3-website.eu-central-1.amazonaws.com&lt;/span&gt;

&lt;span class=&quot;s&quot;&gt;Resources&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;

  &lt;span class=&quot;s&quot;&gt;WebsiteBucket&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;s&quot;&gt;Type&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;AWS::S3::Bucket&lt;/span&gt;
    &lt;span class=&quot;s&quot;&gt;Properties&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;s&quot;&gt;AccessControl&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;PublicRead&lt;/span&gt;
      &lt;span class=&quot;s&quot;&gt;WebsiteConfiguration&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;s&quot;&gt;IndexDocument&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;index.html&lt;/span&gt;
        &lt;span class=&quot;s&quot;&gt;ErrorDocument&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;error.html&lt;/span&gt;

  &lt;span class=&quot;s&quot;&gt;WebsiteBucketPolicy&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;s&quot;&gt;Type&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;AWS::S3::BucketPolicy&lt;/span&gt;
    &lt;span class=&quot;s&quot;&gt;Properties&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;s&quot;&gt;Bucket&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;!Ref&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;WebsiteBucket&lt;/span&gt;
      &lt;span class=&quot;s&quot;&gt;PolicyDocument&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;s&quot;&gt;Version&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;2012-10-17&lt;/span&gt;
        &lt;span class=&quot;s&quot;&gt;Statement&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;Sid&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;PublicReadForGetBucketObjects&lt;/span&gt;
          &lt;span class=&quot;s&quot;&gt;Effect&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;Allow&lt;/span&gt;
          &lt;span class=&quot;s&quot;&gt;Principal&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;*'&lt;/span&gt;
          &lt;span class=&quot;s&quot;&gt;Action&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;s3:GetObject&lt;/span&gt;
          &lt;span class=&quot;s&quot;&gt;Resource&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;!Join&lt;/span&gt; &lt;span class=&quot;pi&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;pi&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;arn:aws:s3:::'&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;!Ref&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;WebsiteBucket&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;/*&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;]]&lt;/span&gt;

  &lt;span class=&quot;s&quot;&gt;WebsiteCDN&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;s&quot;&gt;Type&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;AWS::CloudFront::Distribution&lt;/span&gt;
    &lt;span class=&quot;s&quot;&gt;Properties&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;s&quot;&gt;DistributionConfig&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;s&quot;&gt;Comment&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;!Join&lt;/span&gt; &lt;span class=&quot;pi&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;pi&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;CDN&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;!Ref&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;Subdomain&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;website'&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;]]&lt;/span&gt;
        &lt;span class=&quot;s&quot;&gt;Aliases&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;!Ref&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;Subdomain&lt;/span&gt;
        &lt;span class=&quot;s&quot;&gt;Enabled&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;true&lt;/span&gt;
        &lt;span class=&quot;s&quot;&gt;DefaultRootObject&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;index.html&lt;/span&gt;
        &lt;span class=&quot;s&quot;&gt;IPV6Enabled&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;false&lt;/span&gt;
        &lt;span class=&quot;s&quot;&gt;DefaultCacheBehavior&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;s&quot;&gt;AllowedMethods&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;DELETE&lt;/span&gt;
          &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;GET&lt;/span&gt;
          &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;HEAD&lt;/span&gt;
          &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;OPTIONS&lt;/span&gt;
          &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;PATCH&lt;/span&gt;
          &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;POST&lt;/span&gt;
          &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;PUT&lt;/span&gt;
          &lt;span class=&quot;s&quot;&gt;TargetOriginId&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;S3Origin&lt;/span&gt;
          &lt;span class=&quot;s&quot;&gt;ForwardedValues&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;s&quot;&gt;QueryString&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;false&lt;/span&gt;
            &lt;span class=&quot;s&quot;&gt;Cookies&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
              &lt;span class=&quot;s&quot;&gt;Forward&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;none&lt;/span&gt;
          &lt;span class=&quot;s&quot;&gt;ViewerProtocolPolicy&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;redirect-to-https&lt;/span&gt;
        &lt;span class=&quot;s&quot;&gt;PriceClass&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;PriceClass_100&lt;/span&gt;
        &lt;span class=&quot;s&quot;&gt;Restrictions&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;s&quot;&gt;GeoRestriction&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;s&quot;&gt;RestrictionType&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;whitelist&lt;/span&gt;
            &lt;span class=&quot;s&quot;&gt;Locations&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
              &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;FR&lt;/span&gt;
        &lt;span class=&quot;s&quot;&gt;ViewerCertificate&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;s&quot;&gt;AcmCertificateArn&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;!Ref&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;AcmCertificateArn&lt;/span&gt;
          &lt;span class=&quot;s&quot;&gt;SslSupportMethod&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;sni-only&lt;/span&gt;
        &lt;span class=&quot;s&quot;&gt;Origins&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;DomainName&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;!Join&lt;/span&gt; &lt;span class=&quot;pi&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;pi&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;!Ref&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;WebsiteBucket&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;.s3.amazonaws.com'&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;]]&lt;/span&gt;
          &lt;span class=&quot;s&quot;&gt;Id&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;S3Origin&lt;/span&gt;
          &lt;span class=&quot;s&quot;&gt;S3OriginConfig&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;pi&quot;&gt;{}&lt;/span&gt;

  &lt;span class=&quot;s&quot;&gt;WebsiteDNSName&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;s&quot;&gt;Type&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;AWS::Route53::RecordSet&lt;/span&gt;
    &lt;span class=&quot;s&quot;&gt;Properties&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;s&quot;&gt;HostedZoneName&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;!Join&lt;/span&gt; &lt;span class=&quot;pi&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;pi&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;!Ref&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;HostedZone&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;]]&lt;/span&gt;
      &lt;span class=&quot;s&quot;&gt;Name&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;!Ref&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;Subdomain&lt;/span&gt;
      &lt;span class=&quot;s&quot;&gt;Type&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;A&lt;/span&gt;
      &lt;span class=&quot;s&quot;&gt;AliasTarget&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;s&quot;&gt;HostedZoneId&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;Z2FDTNDATAQYW2&lt;/span&gt;
        &lt;span class=&quot;s&quot;&gt;DNSName&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;!GetAtt&lt;/span&gt; &lt;span class=&quot;pi&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;WebsiteCDN&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;DomainName&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;La création du CDN est long, il faut s’armer de patience, mais c’est aussi le bon moment pour débuter le transfert du site vers S3.&lt;/p&gt;

&lt;p&gt;Une fois la stack créée, le site est disponible à la fois en http et en https. Pour être exact, les requêtes http seront redirigées en https.&lt;/p&gt;

&lt;p&gt;Transférer ses données vers S3 peut se faire facilement via l’interface ou bien en ligne de commande.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;aws s3 ls –region eu-west-3&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;aws s3 sync ./ s3://${WEBSITE_BUCKET} –region eu-west-3&lt;/p&gt;
&lt;/blockquote&gt;
</description>
        <pubDate>Thu, 25 Jan 2018 21:51:00 +0100</pubDate>
        <link>https://victorsalaun.github.io/aws/deploy-static-app-cloudfront-domain-https.html</link>
        <guid isPermaLink="true">https://victorsalaun.github.io/aws/deploy-static-app-cloudfront-domain-https.html</guid>
        
        <category>aws</category>
        
        
        <category>aws</category>
        
      </item>
    
  </channel>
</rss>
